<Window x:Class="VPN.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800"
        WindowState="Normal"
        WindowStyle="None" Background="Transparent"
        AllowsTransparency="True" ResizeMode="CanResize">
  <Window.DataContext>
    <viewmodel:MainViewModel xmlns:viewmodel="clr-namespace:VPN.MVVM.ViewModel"/>
  </Window.DataContext>
  <DockPanel Background="#1E1E1E" Margin="7">
    <Border Height="28" Background="#252525" DockPanel.Dock="Top">
      <!-- Barre titre : simplifiée pour que les boutons soient en haut à droite -->
      <Grid Background="Transparent" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Text="Surfhub" Foreground="LightGray" FontFamily="Consolas"
                       Grid.Column="0" VerticalAlignment="Top" Margin="12,2,0,0"/>

            <!-- espace central extensible -->
            <!-- ...existing code... -->

            <StackPanel Grid.Column="2" Orientation="Horizontal"
                        VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,2,8,0">
                <Button Content="-" Width="28" Height="20" Margin="2,0" Command="{Binding MinWindow}"/>
                <Button Content="🗖" Width="28" Height="20" Margin="2,0" Command="{Binding MaxWindow}"/>
                <Button Content="X" Width="28" Height="20" Margin="2,0" Command="{Binding ShutWindow}"/>
            </StackPanel>
        </Grid>
    </Border>
    <Border Width="48" HorizontalAlignment="Left" Background="#272E2E">
      <Border.Triggers>
        <EventTrigger RoutedEvent="Border.MouseEnter">
          <BeginStoryboard>
            <Storyboard>
              <DoubleAnimation Storyboard.TargetProperty="Width"
                               To="120"
                               Duration="0:0:.1" />
            </Storyboard>
          </BeginStoryboard>
        </EventTrigger>
        <EventTrigger RoutedEvent="Border.MouseLeave">
          <BeginStoryboard>
            <Storyboard>
              <DoubleAnimation Storyboard.TargetProperty="Width"
                               To="120"
                               Duration="0:0:.1" />
            </Storyboard>
          </BeginStoryboard>
        </EventTrigger>
      </Border.Triggers>
      <StackPanel>
        <RadioButton Content="🕵️‍♂️" FontSize="16" FontWeight="Normal" Foreground="ForestGreen" IsChecked="True" Command="{Binding ShowProtectionViewCommand}" />
        <RadioButton Content="🕵️‍" FontSize="16" FontWeight="Normal" Foreground="ForestGreen" />
        <RadioButton Content="⚙️" FontSize="16" FontWeight="Normal" Foreground="ForestGreen" Command="{Binding ShowSettingsViewCommand}"/>
      </StackPanel>
    </Border>
    <ContentPresenter Content="{Binding CurrentView}"></ContentPresenter>
  </DockPanel>
</Window>
